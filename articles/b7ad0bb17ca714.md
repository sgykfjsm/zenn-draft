---
title: TiDB Cloudã®Project API Keyã§å®‰å¿ƒå®‰å…¨ã«Terraformã‚’ä½¿ã†
emoji: ğŸ”‘
type: tech
topics:
  - tidbcloud
  - terraform
  - IaC
published: true
---
# ã“ã®è¨˜äº‹ã«ã¤ã„ã¦
TiDB Cloudã§ã¯Terraformã‚’ä½¿ã£ã¦ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ã“ã‚Œã¾ã§ã¯åˆ©ç”¨ã™ã‚‹API Keyã®æ¨©é™ãŒå¼·ãã€é©ç”¨ç¯„å›²ã‚‚åºƒã‹ã£ãŸãŸã‚ã€åˆ©ç”¨ã«ã¯æ³¨æ„ãŒå¿…è¦ã§ã—ãŸã€‚2025-08-12ã«å°å…¥ã•ã‚ŒãŸProject API Keyã§ã¯ã€ã‚ˆã‚Šå®‰å…¨ã«é‹ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã“ã®è¨˜äº‹ã§ã¯ã€TiDB Cloudã®æ–°ã—ã„API Keyç®¡ç†ã«ã¤ã„ã¦ç´¹ä»‹ã—ã€Terraformã§ã®åˆ©ç”¨ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚2025-08-12ã®ãƒªãƒªãƒ¼ã‚¹å†…å®¹ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯å…ˆã§ã”ç¢ºèªãã ã•ã„ã€‚

https://docs.pingcap.com/tidbcloud/tidb-cloud-release-notes/#august-12-2025

# æ–°ã—ã„API Keyã®ç®¡ç†ã«ã¤ã„ã¦
ä»Šå›ã®ãƒªãƒªãƒ¼ã‚¹ã§API Keyã®ç®¡ç†ã«ä¸»ã«ä»¥ä¸‹ã®å¤‰æ›´ãŒã‚ã‚Šã¾ã—ãŸã€‚
- v1beta1ã®å°å…¥
- role-based access control (RBAC)ã®å°å…¥ï¼ˆv1beta1ã®ã¿ï¼‰
- Organizationå˜ä½ã«åŠ ãˆã¦ã€Projectå˜ä½ã®API Keyã®å°å…¥

ãã‚Œãã‚Œã«ã¤ã„ã¦ç°¡å˜ã«è¦‹ã¦ã„ãã¾ã™ã€‚

## v1beta1ã®å°å…¥
2025-08-12ä»¥å‰ã®APIãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯[**v1beta**](https://docs.pingcap.com/tidbcloud/api/v1beta/)ã§ã—ãŸï¼ˆæœ«å°¾ã«`1`ãŒç„¡ã„ï¼‰ã€‚

åŸºæœ¬çš„ãªä½¿ã„æ–¹ã§ã‚ã‚Œã°v1betaã§ã‚‚ãã‚Œã»ã©ä¸è‡ªç”±ã¯ç„¡ã„ã‹ã¨æ€ã„ã¾ã™ãŒã€é‹ç”¨ã‚’è¡Œã†ã«ã‚ãŸã‚Šä»¥ä¸‹ã®ç‚¹ã§ä¸å®‰ãŒã‚ã‚Šã¾ã—ãŸã€‚
- API Keyã¯Organizationå˜ä½ã§ã‚ã‚Šã€æ¨©é™è¨­å®šãŒç„¡ã„ãŸã‚ã€ï¼‘ã¤ã®API Keyã§å…¨Projectã«å¯¾ã—ã¦ä½•ã§ã‚‚ã§ãã¦ã—ã¾ã£ã¦ã„ãŸ
- ã‚¯ãƒ©ã‚¹ã‚¿ã®Tierç‰¹æœ‰ã®æ©Ÿèƒ½ã®æ“ä½œãŒã§ããªã‹ã£ãŸ
	- ä¾‹ãˆã°Serverlessï¼ˆç¾Starterï¼‰ã‚¯ãƒ©ã‚¹ã‚¿ã§ã‚ã‚Œã°Branchæ“ä½œã€Dedicatedã‚¯ãƒ©ã‚¹ã‚¿ã§ã‚ã‚Œã°Private endpointã®æ“ä½œãªã©

v1beta1ã§ã¯ä¸Šè¨˜ã®å•é¡Œç‚¹ãŒè§£æ¶ˆã•ã‚Œã¾ã—ãŸã€‚Tierç‰¹æœ‰ã®æ“ä½œã‚’è¡Œã†ãŸã‚ã«ã€TiDB Cloud Dedicated APIã¨TiDB Cloud Starter and Essential APIã®ï¼’ã¤ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚è©³ç´°ã«ã¤ã„ã¦ã¯ãã‚Œãã‚Œã®APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- [TiDB Cloud Dedicated APIÂ (v1beta1)](https://docs.pingcap.com/tidbcloud/api/v1beta1/dedicated/)
- [TiDB Cloud Starter and Essential API (v1beta1)](https://docs.pingcap.com/tidbcloud/api/v1beta1/serverless/)

æ¨©é™è¨­å®šã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¾ã™ã€‚

## RBACã®å°å…¥

ã“ã‚Œã¾ã§ã®API Keyã®æ¨©é™ã¯Organization Ownerã®ã¿ã§ã€ãã®æ¨©é™ã¯éå¸¸ã«å¼·åŠ›ã§ã—ãŸã€‚ä»Šå›ã®ãƒªãƒªãƒ¼ã‚¹ã§ã¯RBACãŒå°å…¥ã•ã‚Œã¦ã€ãã®ç”¨é€”ã«å¿œã˜ã¦æ¨©é™ã‚’é©åˆ‡ã«åˆ¶å¾¡ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€ä»¥å‰ã‚ˆã‚Šã‚‚å®‰å¿ƒã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚RBACã¯Organizationã¨Projectã®ï¼’ã¤ã®ãƒ¬ãƒ™ãƒ«ã§è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚
API Keyã«è¨­å®šå¯èƒ½ãªOrganizationãƒ¬ãƒ™ãƒ«ã§åˆ©ç”¨å¯èƒ½ãªãƒ­ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®ï¼•ã¤ã§ã€ã“ã‚Œã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä»˜ä¸ã§ãã‚‹ã‚‚ã®ã¨åŒã˜ã§ã™ã€‚
- Organization Owner
- Organization Viewer
- Organization Billing Manager
- Organization Billing Viewer
- Organization Console Audit Manager

å„ãƒ­ãƒ¼ãƒ«ã«è¨±å¯ã•ã‚ŒãŸæ¨©é™ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

https://docs.pingcap.com/tidbcloud/manage-user-access/#organization-roles

API Keyã«è¨­å®šã§ãã‚‹ãƒ­ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®ï¼’ã¤ã§ã™ã€‚
- Project Owner
- Project Viewer

è©³ç´°ã¯ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

https://docs.pingcap.com/tidbcloud/manage-user-access/#project-roles

Project API Keyã¨RBACã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€Terraformãªã©ã®IaCãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ãŸé‹ç”¨ã§ã‚‚ã€èª¤æ“ä½œã‚„æ¨©é™ã®éå‰°ä»˜ä¸ã‚’é˜²ã’ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
# Project API Keyã®åˆ©ç”¨

Project API Keyã‚’ç™ºè¡Œã™ã‚‹æ–¹æ³•ã¯ã“ã‚Œã¾ã§ã®API Keyã¨ã»ã¼åŒã˜ã§ã™ã€‚TiDB Cloudã«ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€Organization Settingsã«ç§»å‹•ã—ã¦ã€å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰API Keyã‚’é¸æŠã—ã¾ã™ã€‚
:::message
ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ã¯2025å¹´8æœˆ18æ—¥æ™‚ç‚¹ã®ã‚‚ã®ã§ã™ã€‚
:::
![](/images/20250819105419.png =500x)

ãã®å¾Œã€ç”»é¢ä¸Šéƒ¨ã§`By Project`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒªã‚¹ãƒˆã‹ã‚‰è¨­å®šã—ãŸã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠã—ã¾ã™ã€‚ãã‚Œã‹ã‚‰`Create Project API Key`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦API Keyã‚’ä½œæˆã—ã¾ã™ã€‚
![](/images/20250819105830.png =750x)

ä½œæˆã—ãŸAPI Keyã®æƒ…å ±ã¯ä½œæˆå¾Œã«ä¸€åº¦ã ã‘è¡¨ç¤ºã•ã‚Œã‚‹ã®ã§å¿˜ã‚Œãšã«ã‚³ãƒ”ãƒšã—ã¦æ§ãˆã¦ãŠãã¾ã—ã‚‡ã†ã€‚

# Terraformã§Project API Keyã‚’ä½¿ã†
TiDB Cloudã®å¤šãã®ãƒªã‚½ãƒ¼ã‚¹ã¯Terraformã§ç®¡ç†ã§ãã¾ã™ã€‚ã“ã“ã§ã¯TiDB Cloud Dedicatedã‚¯ãƒ©ã‚¹ã‚¿ã‚’ä¾‹ã«Terraformã§ã®è¨­å®šä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

https://docs.pingcap.com/tidbcloud/terraform-tidbcloud-provider-overview/

ã“ã®è¨˜äº‹ã§ç”¨ã„ã¦ã„ã‚‹TerraformãŠã‚ˆã³tidbcloud providerã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚åŸºæœ¬çš„ã«ã¯ãã‚Œãã‚Œæœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã†ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚Project API Keyã‚’ä½¿ã†ã«ã¯tidbcloud providerã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯v0.4.0ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
```shell
$ terraform version         
Terraform v1.12.2
on darwin_arm64
+ provider registry.terraform.io/tidbcloud/tidbcloud v0.4.3
```

Terraformã‚’åˆ©ç”¨ã™ã‚‹ã«ã¯API KeyãŒå¿…è¦ã§ã™ãŒã€ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç®¡ç†ã™ã‚‹ç›®çš„ã§ã‚ã‚Œã°Project API Keyã‚’ä½¿ã†ã®ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚Terraformã§ã®è¨­å®šä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚
```terraform
terraform {
  required_providers {
    tidbcloud = {
      source = "tidbcloud/tidbcloud"
      version = "~> 0.4.3"
    }
  }
  required_version = ">= 1.0.0"
}

# Ref: https://registry.terraform.io/providers/tidbcloud/tidbcloud/latest/docs/resources/dedicated_cluster
resource "tidbcloud_dedicated_cluster" "cluster" {
  display_name  = "<cluster-name>"
  region_id     = "<platform-region>"
  port          = 4000
  root_password = "<password>"
  tidb_node_setting = {
   node_spec_key = "8C16G"
   node_count    = 1
  }
  tikv_node_setting = {
   node_spec_key   = "8C32G"
   node_count      = 3
   storage_size_gi = 200
   storage_type    = "Standard"
  }
  paused = true
}
```
ãƒªã‚½ãƒ¼ã‚¹ã®è¨­å®šå†…å®¹ã«ã¤ã„ã¦ã¯tidbcloud providerã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

https://registry.terraform.io/providers/tidbcloud/tidbcloud/latest/docs

è¨­å®šä¾‹ã®ä¸­ã«API Keyã‚’å«ã‚ã¦ã„ãªã„ãŸã‚ã€å®Ÿè¡Œæ™‚ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```shell
$ TIDBCLOUD_PUBLIC_KEY='xxx' TIDBCLOUD_PRIVATE_KEY='xxx' terraform apply
```

ã‚¯ãƒ©ã‚¹ã‚¿ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚„å‰Šé™¤ãªã©ã‚‚å¯èƒ½ã§ã™ã€‚è©³ç´°ã¯ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

https://docs.pingcap.com/tidbcloud/terraform-use-dedicated-cluster-resource/#use-the-tidbcloud_dedicated_cluster-resource

ä»¥å‰ã‹ã‚‰Terraformã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’ç®¡ç†ã—ã¦ã„ãŸå ´åˆã¯ãŠæ°—ã¥ãã«ãªã‚‹ã‹ã¨æ€ã„ã¾ã™ãŒã€æ§‹æˆæƒ…å ±ã®ä¸­ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDãŒå«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚Project API Keyã‚’ä½¿ã†å ´åˆã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã¯API Keyã‹ã‚‰è­˜åˆ¥å¯èƒ½ã§ã‚ã‚‹ãŸã‚ã€è¨­å®šã¯å¿…é ˆã§ã¯ãªãä»»æ„ã¨ãªã£ã¦ã„ã¾ã™ã€‚ãŸã ã—ã€Organizationãƒ¬ãƒ™ãƒ«ã®API Keyã‚’ä½¿ã†å ´åˆã¯æ§‹æˆæƒ…å ±ã®ä¸­ã§æ˜ç¤ºçš„ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚è¨­å®šã—ãªã„ã¨`default project`ã®ä¸­ã«ã‚¯ãƒ©ã‚¹ã‚¿ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

ã‚‚ã—ç•°ãªã‚‹Projectã«å±ã™ã‚‹Project API Keyã§ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ“ä½œã—ã‚ˆã†ã¨ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦é©åˆ‡ã«ä¿è­·ã•ã‚Œã¾ã™ã€‚
```shell
$ TIDBCLOUD_PUBLIC_KEY='xxx' TIDBCLOUD_PRIVATE_KEY='xxx' terraform plan
tidbcloud_dedicated_cluster.cluster: Refreshing state...

Planning failed. Terraform encountered an error while generating this plan.

â•·
â”‚ Error: Read Error
â”‚ 
â”‚   with tidbcloud_dedicated_cluster.cluster,
â”‚   on cluster.tf line 2, in resource "tidbcloud_dedicated_cluster" "cluster":
â”‚    2: resource "tidbcloud_dedicated_cluster" "cluster" {
â”‚ 
â”‚ Unable to call GetCluster, got error: [GET /v1beta1/clusters/10726458657455056786][403 Forbidden][20250818062555773c4d1175dd953b1f] {"code":403,"message":"Does not have permission to access the resources in belonged
â”‚ project.","details":[{"@type":"type.tidbapi.com/tidb.rpc.RequestInfo","requestId":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","servingData":"bizErrorCode: 49900003"}]}
```

## è£œè¶³: æ§‹æˆæƒ…å ±ã«è¨˜è¼‰ã™ã‚‹è¨­å®šå€¤ã«ã¤ã„ã¦
å¤§å¤‰ä¾¿åˆ©ãªTerraformã§ã®IaCç®¡ç†ã§ã™ãŒã€å°‘ã—å›°ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯`region_id`ã‚„`node_spec`ãªã©ã®å€¤ã¯æ±ºã‚ã‚‰ã‚ŒãŸå€¤ã—ã‹å—ã‘ä»˜ã‘ã‚‰ã‚Œãªã„ã®ã§ã™ãŒã€ãã®å€¤ã«ã©ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚‹ã®ã‹ã‚ã‹ã‚‰ãªã„ã“ã¨ã§ã™ã€‚

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãªã©ã«è¨˜è¼‰ãŒã‚ã‚Œã°è‰¯ã„ã®ã§ã™ãŒã€è¦‹å½“ãŸã‚‰ãªã„ã®ã§Data resourceã‚’å‚ç…§ã™ã‚‹ã®ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚`node_spec`ã®è¨­å®šå¯èƒ½å€¤ã‚’ç¢ºèªã™ã‚‹ã«ã¯[tidbcloud_cluster_specs](https://registry.terraform.io/providers/tidbcloud/tidbcloud/latest/docs/data-sources/cluster_specs)ã‚’ã€region_idã¯[tidbcloud_dedicated_regions](https://registry.terraform.io/providers/tidbcloud/tidbcloud/latest/docs/data-sources/dedicated_regions)ã‚’ç¢ºèªã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚ãã‚Œãã‚Œã®Data resourceã‚’å‚ç…§ã™ã‚‹tfãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

ãªãŠã€Terraformã§ãªãã¦ã‚‚APIã«ç›´æ¥ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦å†…å®¹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
- regionæƒ…å ±: https://docs.pingcap.com/tidbcloud/api/v1beta1/dedicated/#tag/Region/operation/RegionService_ListRegions
- node_specæƒ…å ±: https://docs.pingcap.com/tidbcloud/api/v1beta1/dedicated/#tag/Region/operation/RegionService_ListNodeSpecs
### regionæƒ…å ±ã‚’ç¢ºèªã™ã‚‹
```terraform
terraform {
  required_providers {
    tidbcloud = {
      source = "tidbcloud/tidbcloud"
      version = "~> 0.4.3"
    }
  }
  required_version = ">= 1.0.0"
}

data "tidbcloud_dedicated_regions" "region" {
}

output "output" {
  value = data.tidbcloud_dedicated_regions.region
}
```

ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œã—ã¾ã™ã€‚
```shell
$ TIDBCLOUD_PUBLIC_KEY='xxx' TIDBCLOUD_PRIVATE_KEY='xxx' terraform output -json
```

ã‚‚ã—ç‰¹å®šãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«çµã‚Šè¾¼ã¿ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚
```bash
# AWSã®Tokyoãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã«çµã‚Šè¾¼ã‚€
$ TIDBCLOUD_PUBLIC_KEY='xxx' TIDBCLOUD_PRIVATE_KEY='xxx' terraform output -json \
    | jq '.output.value.regions[] | select(.cloud_provider=="aws" and (.display_name | test("ap-northeast-1")))'
{
  "cloud_provider": "aws",
  "display_name": "Tokyo (ap-northeast-1)",
  "region_id": "aws-ap-northeast-1"
}
```
ã“ã®ã‚ˆã†ã«ã—ã¦å¾—ã‚‰ã‚ŒãŸçµæœã‹ã‚‰`region_id`ã®å€¤ã‚’æ§‹æˆæƒ…å ±ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚

### node_specæƒ…å ±ã‚’ç¢ºèªã™ã‚‹
```terraform
terraform {
  required_providers {
    tidbcloud = {
      source = "tidbcloud/tidbcloud"
      version = "~> 0.4.3"
    }
  }
  required_version = ">= 1.0.0"
}

data "tidbcloud_cluster_specs" "spec" {
}

output "output" {
  value = data.tidbcloud_cluster_specs.spec
}
```

ã“ã¡ã‚‰ã‚‚å…ˆç¨‹ã¨åŒã˜ã‚³ãƒãƒ³ãƒ‰ã§çµæœã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
```shell
$ TIDBCLOUD_PUBLIC_KEY='xxx' TIDBCLOUD_PRIVATE_KEY='xxx' terraform output -json
```

ã“ã¡ã‚‰ã‚‚ãã®ã¾ã¾å‡ºåŠ›ã™ã‚‹ã¨ç›®å½“ã¦ã®ã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒé›£ã—ã„ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚
```shell
$ TIDBCLOUD_PUBLIC_KEY='xxx' TIDBCLOUD_PRIVATE_KEY='xxx' terraform output -json \
   | jq '.output.value.items[] | select(.cloud_provider=="AWS" and .cluster_type=="DEDICATED" and .region=="ap-northeast-1") | .tidb[] | .node_size'
"2C8G"
"4C16G"
"8C16G"
"8C32G"
"16C32G"
"16C64G"
"32C64G"

$ TIDBCLOUD_PUBLIC_KEY='xxx' TIDBCLOUD_PRIVATE_KEY='xxx' terraform output -json \
    | jq '.output.value.items[] | select(.cloud_provider=="AWS" and .cluster_type=="DEDICATED" and .region=="ap-northeast-1") | .tikv[] | .node_size'
"2C8G"
"4C16G"
"8C32G"
"8C64G"
"16C64G"
"16C64G-IO2"
"32C128G"
"32C128G-IO2"
```

# ã¾ã¨ã‚
æœ¬è¨˜äº‹ã§ã¯TiDB Cloudã«å°å…¥ã•ã‚ŒãŸæ–°ã—ã„API Keyã®ç®¡ç†ã¨ã€Project API Keyã‚’ä½¿ã£ã¦Terraformã§TiDB Cloudã®Dedicatedã‚¯ãƒ©ã‚¹ã‚¿ã‚’é‹ç”¨ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚Terraformã«é™ã‚‰ãšã€APIã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹éš›ã«ã‚‚Project API Keyã¯ä½¿ãˆã¾ã™ã®ã§ã€ä»Šå¾Œã¯Project API Keyã‚’ç©æ¥µçš„ã«ä½¿ã†ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚